on:
    schedule:
      - cron: '0 7 * * *'
      - cron: '0 14 * * *'
      - cron: '0 19 * * *'
      - cron: '0 2 * * *'
    workflow_dispatch:

  jobs:
    poll:
      runs-on: ubuntu-latest
      steps:
        - name: Poll Strava API
          run: |
            curl -X POST "https://www.burrito.run/api/cron/poll-strava" \
              -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}" \
              --fail --show-error
